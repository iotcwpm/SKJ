<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.5">
  <compounddef id="checks__fishing__event_8py" kind="file">
    <compoundname>checks_fishing_event.py</compoundname>
    <innerclass refid="classtangagroomer_1_1checks__fishing__event_1_1FESTA" prot="public">tangagroomer::checks_fishing_event::FESTA</innerclass>
    <innerclass refid="classtangagroomer_1_1checks__fishing__event_1_1FE" prot="public">tangagroomer::checks_fishing_event::FE</innerclass>
    <innerclass refid="classtangagroomer_1_1checks__fishing__event_1_1FESDM" prot="public">tangagroomer::checks_fishing_event::FESDM</innerclass>
    <innerclass refid="classtangagroomer_1_1checks__fishing__event_1_1FESDF" prot="public">tangagroomer::checks_fishing_event::FESDF</innerclass>
    <innerclass refid="classtangagroomer_1_1checks__fishing__event_1_1FEPMI" prot="public">tangagroomer::checks_fishing_event::FEPMI</innerclass>
    <innerclass refid="classtangagroomer_1_1checks__fishing__event_1_1FEPMM" prot="public">tangagroomer::checks_fishing_event::FEPMM</innerclass>
    <innerclass refid="classtangagroomer_1_1checks__fishing__event_1_1FETSW" prot="public">tangagroomer::checks_fishing_event::FETSW</innerclass>
    <innerclass refid="classtangagroomer_1_1checks__fishing__event_1_1FETSI" prot="public">tangagroomer::checks_fishing_event::FETSI</innerclass>
    <innerclass refid="classtangagroomer_1_1checks__fishing__event_1_1FETSM" prot="public">tangagroomer::checks_fishing_event::FETSM</innerclass>
    <innerclass refid="classtangagroomer_1_1checks__fishing__event_1_1FESAI" prot="public">tangagroomer::checks_fishing_event::FESAI</innerclass>
    <innerclass refid="classtangagroomer_1_1checks__fishing__event_1_1FESAM" prot="public">tangagroomer::checks_fishing_event::FESAM</innerclass>
    <innerclass refid="classtangagroomer_1_1checks__fishing__event_1_1FELLI" prot="public">tangagroomer::checks_fishing_event::FELLI</innerclass>
    <innerclass refid="classtangagroomer_1_1checks__fishing__event_1_1FELLS" prot="public">tangagroomer::checks_fishing_event::FELLS</innerclass>
    <innerclass refid="classtangagroomer_1_1checks__fishing__event_1_1FEFMA" prot="public">tangagroomer::checks_fishing_event::FEFMA</innerclass>
    <innerclass refid="classtangagroomer_1_1checks__fishing__event_1_1FEETN" prot="public">tangagroomer::checks_fishing_event::FEETN</innerclass>
    <innerclass refid="classtangagroomer_1_1checks__fishing__event_1_1FEEFO" prot="public">tangagroomer::checks_fishing_event::FEEFO</innerclass>
    <innernamespace refid="namespacetangagroomer_1_1checks__fishing__event">tangagroomer::checks_fishing_event</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacetangagroomer_1_1checks__fishing__event" refkind="compound"><highlight class="keyword">from</highlight><highlight class="normal"><sp/>check<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>*</highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3" refid="classtangagroomer_1_1checks__fishing__event_1_1FESTA" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FESTA" kindref="compound">FESTA</ref>(<ref refid="classtangagroomer_1_1check_1_1CHSTA" kindref="compound">CHSTA</ref>):</highlight></codeline>
<codeline lineno="4"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>table<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;fishing_event&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="6"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FESTA_1a7010c2eb913b52da4ea677331c8f357b" kindref="member">do</ref>(self):</highlight></codeline>
<codeline lineno="7"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CHSTA.do(self)</highlight></codeline>
<codeline lineno="8"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Alter(</highlight><highlight class="stringliteral">&apos;&apos;&apos;ALTER<sp/>TABLE<sp/>fishing_event<sp/>ADD<sp/>COLUMN<sp/>date<sp/>DATETIME;&apos;&apos;&apos;</highlight><highlight class="normal">)<sp/><sp/></highlight></codeline>
<codeline lineno="9"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Execute(</highlight><highlight class="stringliteral">&apos;&apos;&apos;UPDATE<sp/>fishing_event<sp/>SET<sp/>date=strftime(&apos;%Y-%m-%d&apos;,start_datetime);&apos;&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="10"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Execute(</highlight><highlight class="stringliteral">&apos;&apos;&apos;CREATE<sp/>INDEX<sp/>IF<sp/>NOT<sp/>EXISTS<sp/>fishing_event_date<sp/>ON<sp/>fishing_event(date);&apos;&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="11"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Alter(</highlight><highlight class="stringliteral">&apos;&apos;&apos;ALTER<sp/>TABLE<sp/>fishing_event<sp/>ADD<sp/>COLUMN<sp/>fishing_year<sp/>INTEGER;&apos;&apos;&apos;</highlight><highlight class="normal">)<sp/></highlight></codeline>
<codeline lineno="13"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Execute(</highlight><highlight class="stringliteral">&apos;&apos;&apos;UPDATE<sp/>fishing_event<sp/>SET<sp/>fishing_year=strftime(&apos;%Y&apos;,date);&apos;&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="14"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Execute(</highlight><highlight class="stringliteral">&apos;&apos;&apos;UPDATE<sp/>fishing_event<sp/>SET<sp/>fishing_year=fishing_year+1<sp/>WHERE<sp/>strftime(&apos;%m&apos;,date)&gt;=&quot;10&quot;;&apos;&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="15"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Execute(</highlight><highlight class="stringliteral">&apos;&apos;&apos;CREATE<sp/>INDEX<sp/>IF<sp/>NOT<sp/>EXISTS<sp/>fishing_event_fishing_year<sp/>ON<sp/>fishing_event(fishing_year);&apos;&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="16"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##For<sp/>TCP<sp/>forms<sp/>the<sp/>effort_num<sp/>is<sp/>always<sp/>1</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Execute(</highlight><highlight class="stringliteral">&apos;&apos;&apos;UPDATE<sp/>fishing_event<sp/>SET<sp/>effort_num=1<sp/>WHERE<sp/>form_type=&apos;TCP&apos;;&apos;&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="20" refid="classtangagroomer_1_1checks__fishing__event_1_1FE" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FE" kindref="compound">FE</ref>(<ref refid="classtangagroomer_1_1check_1_1Check" kindref="compound">Check</ref>):</highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>table<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;fishing_event&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="23" refid="classtangagroomer_1_1checks__fishing__event_1_1FESDM" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FESDM" kindref="compound">FESDM</ref>(<ref refid="classtangagroomer_1_1checks__fishing__event_1_1FE" kindref="compound">FE</ref>):</highlight></codeline>
<codeline lineno="24"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>brief<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;Start<sp/>date/time<sp/>is<sp/>missing&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desc<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="26"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>starting<sp/>date/time<sp/>for<sp/>a<sp/>fishing<sp/>event<sp/>can<sp/>be<sp/>missing.<sp/>This<sp/>check<sp/>flags<sp/>those<sp/>records<sp/>but<sp/>no<sp/>attempt<sp/>is<sp/>made<sp/>to<sp/>impute<sp/>the<sp/>datetime/time.</highlight></codeline>
<codeline lineno="27"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>column<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;start_datetime&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>clause<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;start_datetime<sp/>IS<sp/>NULL&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="31" refid="classtangagroomer_1_1checks__fishing__event_1_1FESDF" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FESDF" kindref="compound">FESDF</ref>(<ref refid="classtangagroomer_1_1checks__fishing__event_1_1FE" kindref="compound">FE</ref>):</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>brief<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;End<sp/>date/time<sp/>is<sp/>in<sp/>the<sp/>future&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desc<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="34"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>The<sp/>starting<sp/>date/time<sp/>for<sp/>a<sp/>fishing<sp/>event<sp/>can<sp/>be<sp/>in<sp/>the<sp/>future.<sp/>This<sp/>check<sp/>flags<sp/>those<sp/>records<sp/>but<sp/>no<sp/>attempt<sp/>is<sp/>made<sp/>to<sp/>cSt<sp/>datetime/time.</highlight></codeline>
<codeline lineno="35"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>column<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;start_datetime&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>clause<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;start_datetime&gt;datetime(&apos;now&apos;)&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="39" refid="classtangagroomer_1_1checks__fishing__event_1_1FEPMI" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FEPMI" kindref="compound">FEPMI</ref>(<ref refid="classtangagroomer_1_1checks__fishing__event_1_1FE" kindref="compound">FE</ref>):</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>brief<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;Method<sp/>imputation&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desc<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="42"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>check<sp/>follows<sp/>the<sp/>suggestion<sp/>of<sp/>Starr<sp/>(2009)<sp/>to<sp/>replace<sp/>missing<sp/>values<sp/>for<sp/>the<sp/>column<sp/>&lt;i&gt;primary_method&lt;/i&gt;<sp/>with<sp/>the<sp/>value<sp/>recorded<sp/>for<sp/>other<sp/>fishing<sp/>events<sp/>in<sp/>the<sp/>trip<sp/>providing<sp/>those<sp/>other<sp/>values<sp/>are<sp/>all<sp/>the<sp/>same.</highlight></codeline>
<codeline lineno="43"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>column<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;primary_method&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FEPMI_1a93487624febc2aa8063a8e0b413fbe26" kindref="member">do</ref>(self):</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##Find<sp/>all<sp/>records<sp/>with<sp/>missing<sp/>primary_method.<sp/>For<sp/>each<sp/>trip<sp/>in<sp/>this<sp/>set<sp/>count<sp/>number<sp/>of<sp/>primary_method<sp/>used.<sp/>If<sp/>only<sp/>one,<sp/>then<sp/>replace<sp/>otherwise<sp/>drop<sp/>the<sp/>trip</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>row<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.db.Rows(</highlight><highlight class="stringliteral">&apos;&apos;&apos;SELECT<sp/>trip,primary_method<sp/>FROM<sp/>(</highlight></codeline>
<codeline lineno="49"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SELECT<sp/>DISTINCT<sp/>trip,primary_method<sp/>FROM<sp/>fishing_event<sp/>WHERE<sp/>trip<sp/>IN<sp/>(SELECT<sp/>DISTINCT<sp/>trip<sp/>FROM<sp/>fishing_event<sp/>WHERE<sp/>primary_method<sp/>IS<sp/>NULL<sp/>AND<sp/>trip<sp/>IS<sp/>NOT<sp/>NULL)<sp/>AND<sp/>primary_method<sp/>IS<sp/>NOT<sp/>NULL</highlight></codeline>
<codeline lineno="50"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)<sp/>GROUP<sp/>BY<sp/>trip<sp/>HAVING<sp/>count(*)==1&apos;&apos;&apos;</highlight><highlight class="normal">):<sp/></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classtangagroomer_1_1check_1_1Check_1a58991e0dd0e97e9578396e9048e89842" kindref="member">change</ref>(clause=</highlight><highlight class="stringliteral">&apos;&apos;&apos;primary_method<sp/>IS<sp/>NULL<sp/>AND<sp/>trip=%s&apos;&apos;&apos;</highlight><highlight class="normal">%row[0],value=row[1])</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FEPMI_1a84547cbed49630cf384b7732b824b728" kindref="member">summarise</ref>(self):</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>div<sp/>=<sp/><ref refid="classtangagroomer_1_1html_1_1Div" kindref="compound">Div</ref>()</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>div<sp/>+=<sp/><ref refid="namespacetangagroomer_1_1html_1affb03ef21b66ff4bb21fe7ad6cf6278d" kindref="member">FARTable</ref>(</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;Number<sp/>of<sp/>fishing<sp/>events<sp/>by<sp/>imputed<sp/>value<sp/>for<sp/>&lt;i&gt;primary_method&lt;/i&gt;.&apos;&apos;&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;Method&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Fishing<sp/>events&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Rows(</highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="59"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SELECT<sp/>primary_method,<sp/>count(*)<sp/></highlight></codeline>
<codeline lineno="60"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FROM<sp/>fishing_event</highlight></codeline>
<codeline lineno="61"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WHERE<sp/>flags<sp/>LIKE<sp/>&apos;%%%s%%&apos;</highlight></codeline>
<codeline lineno="62"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GROUP<sp/>BY<sp/>primary_method</highlight></codeline>
<codeline lineno="63"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal">%self.<ref refid="classtangagroomer_1_1check_1_1Check_1aee237860ccf5830b720da9e19b641cda" kindref="member">code</ref>())</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>div</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="67" refid="classtangagroomer_1_1checks__fishing__event_1_1FEPMM" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FEPMM" kindref="compound">FEPMM</ref>(<ref refid="classtangagroomer_1_1checks__fishing__event_1_1FE" kindref="compound">FE</ref>):</highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>brief<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;Method<sp/>missing&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desc<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="70"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>check<sp/>follows<sp/>the<sp/>suggestion<sp/>of<sp/>Starr<sp/>(2009)<sp/>to<sp/>flag<sp/>entire<sp/>trips<sp/>which<sp/>have<sp/>an<sp/>event<sp/>with<sp/>a<sp/>missing<sp/>method.</highlight></codeline>
<codeline lineno="71"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>column<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;primary_method&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>clause<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;<sp/>trip<sp/>IN<sp/>(SELECT<sp/>DISTINCT<sp/>trip<sp/>FROM<sp/>fishing_event<sp/>WHERE<sp/>primary_method<sp/>IS<sp/>NULL<sp/>AND<sp/>trip<sp/>IS<sp/>NOT<sp/>NULL)&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="75" refid="classtangagroomer_1_1checks__fishing__event_1_1FETSW" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FETSW" kindref="compound">FETSW</ref>(<ref refid="classtangagroomer_1_1checks__fishing__event_1_1FE" kindref="compound">FE</ref>):</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>brief<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;Target<sp/>species<sp/>invalid&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desc<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="78"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Where<sp/>the<sp/>target<sp/>species<sp/>code<sp/>is<sp/>not<sp/>amongst<sp/>the<sp/>list<sp/>of<sp/>valid<sp/>species<sp/>codes<sp/>it<sp/>is<sp/>flagged<sp/>and<sp/>set<sp/>to<sp/>NULL<sp/>so<sp/>that<sp/>it<sp/>may<sp/>be<sp/>subsequently<sp/>corrected<sp/>during<sp/>imputation.</highlight></codeline>
<codeline lineno="79"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>column<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;target_species&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>clause<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;target_species<sp/>NOT<sp/>IN<sp/>(</highlight></codeline>
<codeline lineno="82"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;AGR&apos;,&apos;ALB&apos;,&apos;ANC&apos;,&apos;ANG&apos;,&apos;ATO&apos;,&apos;BAR&apos;,&apos;BBE&apos;,&apos;BCA&apos;,&apos;BCD&apos;,&apos;BCO&apos;,&apos;BCR&apos;,&apos;BEA&apos;,&apos;BEE&apos;,&apos;BEL&apos;,&apos;BEM&apos;,&apos;BFL&apos;,&apos;BGZ&apos;,&apos;BIG&apos;,&apos;BKM&apos;,&apos;BMA&apos;,&apos;BNS&apos;,&apos;BOA&apos;,&apos;BOE&apos;,&apos;BOX&apos;,&apos;BPF&apos;,&apos;BRA&apos;,&apos;BRC&apos;,&apos;BRI&apos;,&apos;BRZ&apos;,&apos;BSH&apos;,&apos;BSK&apos;,&apos;BSP&apos;,&apos;BSQ&apos;,&apos;BTU&apos;,&apos;BUT&apos;,</highlight></codeline>
<codeline lineno="83"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;BWH&apos;,&apos;BWS&apos;,&apos;BYA&apos;,&apos;BYX&apos;,&apos;CAC&apos;,&apos;CAN&apos;,&apos;CAR&apos;,&apos;CDL&apos;,&apos;CHC&apos;,&apos;CHI&apos;,&apos;CMO&apos;,&apos;COC&apos;,&apos;COE&apos;,&apos;COL&apos;,&apos;CON&apos;,&apos;CRA&apos;,&apos;CRB&apos;,&apos;CSQ&apos;,&apos;CTU&apos;,&apos;CYO&apos;,&apos;CYP&apos;,&apos;DAN&apos;,&apos;DEA&apos;,&apos;DIS&apos;,&apos;DOF&apos;,&apos;DSK&apos;,&apos;DSS&apos;,&apos;DSU&apos;,&apos;DWD&apos;,&apos;DWE&apos;,&apos;ECO&apos;,&apos;EEL&apos;,&apos;EGR&apos;,&apos;ELE&apos;,</highlight></codeline>
<codeline lineno="84"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;EMA&apos;,&apos;EMP&apos;,&apos;EPD&apos;,&apos;EPL&apos;,&apos;EPR&apos;,&apos;ERA&apos;,&apos;ESO&apos;,&apos;ETB&apos;,&apos;ETL&apos;,&apos;FHD&apos;,&apos;FLA&apos;,&apos;FLY&apos;,&apos;FRO&apos;,&apos;GAR&apos;,&apos;GFL&apos;,&apos;GLM&apos;,&apos;GMU&apos;,&apos;GRA&apos;,&apos;GSC&apos;,&apos;GSE&apos;,&apos;GSH&apos;,&apos;GSP&apos;,&apos;GSQ&apos;,&apos;GTR&apos;,&apos;GUR&apos;,&apos;HAP&apos;,&apos;HAG&apos;,&apos;HAK&apos;,&apos;HEP&apos;,&apos;HHS&apos;,&apos;HJO&apos;,&apos;HOK&apos;,&apos;HOR&apos;,&apos;HPB&apos;,&apos;ICX&apos;,</highlight></codeline>
<codeline lineno="85"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;JAV&apos;,&apos;JDO&apos;,&apos;JGU&apos;,&apos;JMA&apos;,&apos;KAH&apos;,&apos;KBB&apos;,&apos;KBL&apos;,&apos;KEL&apos;,&apos;KIC&apos;,&apos;KIN&apos;,&apos;KOH&apos;,&apos;KTA&apos;,&apos;KWH&apos;,&apos;LAN&apos;,&apos;LCH&apos;,&apos;LDO&apos;,&apos;LEA&apos;,&apos;LEG&apos;,&apos;LEP&apos;,&apos;LES&apos;,&apos;LFB&apos;,&apos;LFE&apos;,&apos;LIM&apos;,&apos;LIN&apos;,&apos;LSO&apos;,&apos;MAK&apos;,&apos;MCA&apos;,&apos;MDI&apos;,&apos;MDO&apos;,&apos;MMI&apos;,&apos;MOK&apos;,&apos;MOO&apos;,&apos;MOR&apos;,&apos;MRL&apos;,&apos;MSG&apos;,&apos;MSP&apos;,&apos;MUN&apos;,&apos;MUS&apos;,</highlight></codeline>
<codeline lineno="86"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;NOT&apos;,&apos;NSD&apos;,&apos;NTU&apos;,&apos;OAR&apos;,&apos;OCT&apos;,&apos;OEO&apos;,&apos;OFH&apos;,&apos;ONG&apos;,&apos;OPE&apos;,&apos;ORH&apos;,&apos;OSD&apos;,&apos;OYS&apos;,&apos;OYU&apos;,&apos;PAD&apos;,&apos;PAR&apos;,&apos;PAU&apos;,&apos;PDG&apos;,&apos;PDO&apos;,&apos;PGR&apos;,&apos;PHC&apos;,&apos;PIG&apos;,&apos;PIL&apos;,&apos;PIP&apos;,&apos;PMA&apos;,&apos;POP&apos;,&apos;POR&apos;,&apos;POS&apos;,&apos;POY&apos;,&apos;PPI&apos;,&apos;PRA&apos;,&apos;PRK&apos;,&apos;PTE&apos;,&apos;PTO&apos;,&apos;PZL&apos;,&apos;QSC&apos;,</highlight></codeline>
<codeline lineno="87"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;RAG&apos;,&apos;RAT&apos;,&apos;RBM&apos;,&apos;RBT&apos;,&apos;RBY&apos;,&apos;RCO&apos;,&apos;RDO&apos;,&apos;RHY&apos;,&apos;RIB&apos;,&apos;RMO&apos;,&apos;ROC&apos;,&apos;RPE&apos;,&apos;RRC&apos;,&apos;RSK&apos;,&apos;RSN&apos;,&apos;RUD&apos;,&apos;SAE&apos;,&apos;SAI&apos;,&apos;SAL&apos;,&apos;SAM&apos;,&apos;SAU&apos;,&apos;SBK&apos;,&apos;SBO&apos;,&apos;SBW&apos;,&apos;SCA&apos;,&apos;SCC&apos;,&apos;SCG&apos;,&apos;SCH&apos;,&apos;SCI&apos;,&apos;SCM&apos;,&apos;SCO&apos;,&apos;SDO&apos;,&apos;SEM&apos;,&apos;SEV&apos;,&apos;SFE&apos;,</highlight></codeline>
<codeline lineno="88"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;SFI&apos;,&apos;SFL&apos;,&apos;SFN&apos;,&apos;SKA&apos;,&apos;SKI&apos;,&apos;SKJ&apos;,&apos;SLG&apos;,&apos;SLK&apos;,&apos;SLO&apos;,&apos;SMC&apos;,&apos;SNA&apos;,&apos;SND&apos;,&apos;SOR&apos;,&apos;SPD&apos;,&apos;SPE&apos;,&apos;SPF&apos;,&apos;SPI&apos;,&apos;SPO&apos;,&apos;SPP&apos;,&apos;SPR&apos;,&apos;SPZ&apos;,&apos;SQU&apos;,&apos;SQX&apos;,&apos;SRR&apos;,&apos;SSF&apos;,&apos;SSH&apos;,&apos;SSI&apos;,&apos;SSK&apos;,&apos;SSO&apos;,&apos;STA&apos;,&apos;STM&apos;,&apos;STN&apos;,&apos;STR&apos;,&apos;STU&apos;,&apos;SUN&apos;,&apos;SUR&apos;,</highlight></codeline>
<codeline lineno="89"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;SWA&apos;,&apos;SWO&apos;,&apos;TAR&apos;,&apos;THR&apos;,&apos;TOA&apos;,&apos;TOR&apos;,&apos;TRE&apos;,&apos;TRS&apos;,&apos;TRU&apos;,&apos;TUA&apos;,&apos;TUR&apos;,&apos;VCO&apos;,&apos;WAH&apos;,&apos;WAR&apos;,&apos;WGR&apos;,&apos;WHE&apos;,&apos;WHR&apos;,&apos;WHX&apos;,&apos;WIT&apos;,&apos;WOE&apos;,&apos;WRA&apos;,&apos;WSE&apos;,&apos;WSQ&apos;,&apos;WWA&apos;,&apos;YBF&apos;,&apos;YEM&apos;,&apos;YFN&apos;</highlight></codeline>
<codeline lineno="90"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FETSW_1af302f4a4d765e1155434878ed9a3088c" kindref="member">summarise</ref>(self):</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>div<sp/>=<sp/><ref refid="classtangagroomer_1_1html_1_1Div" kindref="compound">Div</ref>()</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>div<sp/>+=<sp/><ref refid="namespacetangagroomer_1_1html_1affb03ef21b66ff4bb21fe7ad6cf6278d" kindref="member">FARTable</ref>(</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;Number<sp/>of<sp/>fishing<sp/>events<sp/>with<sp/>invalid<sp/>values<sp/>for<sp/>&lt;i&gt;target_species&lt;/i&gt;.<sp/>A<sp/>maximum<sp/>of<sp/>the<sp/>top<sp/>ten<sp/>invalid<sp/>codes<sp/>are<sp/>listed.&apos;&apos;&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;Target<sp/>species&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Fishing<sp/>events&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Rows(</highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="99"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SELECT<sp/>target_species,<sp/>count(*)<sp/></highlight></codeline>
<codeline lineno="100"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FROM<sp/>fishing_event</highlight></codeline>
<codeline lineno="101"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WHERE<sp/>flags<sp/>LIKE<sp/>&apos;%%%s%%&apos;</highlight></codeline>
<codeline lineno="102"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GROUP<sp/>BY<sp/>target_species</highlight></codeline>
<codeline lineno="103"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ORDER<sp/>BY<sp/>count(*)<sp/>DESC</highlight></codeline>
<codeline lineno="104"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LIMIT<sp/>10</highlight></codeline>
<codeline lineno="105"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal">%self.<ref refid="classtangagroomer_1_1check_1_1Check_1aee237860ccf5830b720da9e19b641cda" kindref="member">code</ref>())</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>div</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="109" refid="classtangagroomer_1_1checks__fishing__event_1_1FETSI" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FETSI" kindref="compound">FETSI</ref>(<ref refid="classtangagroomer_1_1checks__fishing__event_1_1FE" kindref="compound">FE</ref>):</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>brief<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;Target<sp/>species<sp/>imputation&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desc<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="112"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>check<sp/>follows<sp/>the<sp/>suggestion<sp/>of<sp/>Starr<sp/>(2011)<sp/>to<sp/>replace<sp/>missing<sp/>values<sp/>for<sp/>the<sp/>column<sp/>&lt;i&gt;target_species&lt;/i&gt;<sp/>with<sp/>the<sp/>most<sp/>frequently<sp/>recorded<sp/>value<sp/>for<sp/>other<sp/>fishing<sp/>events<sp/>in<sp/>the<sp/>trip.</highlight></codeline>
<codeline lineno="113"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>column<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;target_species&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FETSI_1a9b5e327622a2128e37fb04eb889613c0" kindref="member">do</ref>(self):</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>trip<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.db.Values(</highlight><highlight class="stringliteral">&apos;&apos;&apos;SELECT<sp/>DISTINCT<sp/>trip<sp/>FROM<sp/>fishing_event<sp/>WHERE<sp/>target_species<sp/>IS<sp/>NULL<sp/>AND<sp/>trip<sp/>IS<sp/>NOT<sp/>NULL&apos;&apos;&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>=<sp/>self.db.Value(</highlight><highlight class="stringliteral">&apos;&apos;&apos;SELECT<sp/>target_species<sp/>FROM<sp/>fishing_event<sp/>WHERE<sp/>target_species<sp/>IS<sp/>NOT<sp/>NULL<sp/>AND<sp/>trip=?<sp/>GROUP<sp/>BY<sp/>target_species<sp/>ORDER<sp/>BY<sp/>count(*)<sp/>DESC<sp/>LIMIT<sp/>1&apos;&apos;&apos;</highlight><highlight class="normal">,[trip])</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>value:<sp/>self.<ref refid="classtangagroomer_1_1check_1_1Check_1a58991e0dd0e97e9578396e9048e89842" kindref="member">change</ref>(clause=</highlight><highlight class="stringliteral">&apos;&apos;&apos;target_species<sp/>IS<sp/>NULL<sp/>AND<sp/>trip=%s&apos;&apos;&apos;</highlight><highlight class="normal">%trip,value=value)</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FETSI_1a354824c501b6c99a8ff6e91fd5025000" kindref="member">summarise</ref>(self):</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>div<sp/>=<sp/><ref refid="classtangagroomer_1_1html_1_1Div" kindref="compound">Div</ref>()</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>div<sp/>+=<sp/><ref refid="namespacetangagroomer_1_1html_1affb03ef21b66ff4bb21fe7ad6cf6278d" kindref="member">FARTable</ref>(</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;Number<sp/>of<sp/>fishing<sp/>events<sp/>by<sp/>imputed<sp/>value<sp/>for<sp/>&lt;i&gt;target_species&lt;/i&gt;.<sp/>A<sp/>maximum<sp/>of<sp/>the<sp/>top<sp/>ten<sp/>imputed<sp/>codes<sp/>are<sp/>listed.&apos;&apos;&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;Target<sp/>species&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Fishing<sp/>events&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Rows(</highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="127"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SELECT<sp/>target_species,<sp/>count(*)<sp/></highlight></codeline>
<codeline lineno="128"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FROM<sp/>fishing_event</highlight></codeline>
<codeline lineno="129"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WHERE<sp/>flags<sp/>LIKE<sp/>&apos;%%%s%%&apos;</highlight></codeline>
<codeline lineno="130"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GROUP<sp/>BY<sp/>target_species</highlight></codeline>
<codeline lineno="131"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ORDER<sp/>BY<sp/>count(*)<sp/>DESC</highlight></codeline>
<codeline lineno="132"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>LIMIT<sp/>10</highlight></codeline>
<codeline lineno="133"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal">%self.<ref refid="classtangagroomer_1_1check_1_1Check_1aee237860ccf5830b720da9e19b641cda" kindref="member">code</ref>())</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>div</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="137" refid="classtangagroomer_1_1checks__fishing__event_1_1FETSM" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FETSM" kindref="compound">FETSM</ref>(<ref refid="classtangagroomer_1_1checks__fishing__event_1_1FE" kindref="compound">FE</ref>):</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>brief<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;Target<sp/>species<sp/>missing&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desc<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="140"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>This<sp/>check<sp/>flags<sp/>trips<sp/>where<sp/>target<sp/>species<sp/>is<sp/>missing.</highlight></codeline>
<codeline lineno="141"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>column<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;target_species&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>clause<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;trip<sp/>IN<sp/>(SELECT<sp/>DISTINCT<sp/>trip<sp/>FROM<sp/>fishing_event<sp/>WHERE<sp/>target_species<sp/>IS<sp/>NULL<sp/>AND<sp/>trip<sp/>IS<sp/>NOT<sp/>NULL)&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="145" refid="classtangagroomer_1_1checks__fishing__event_1_1FESAI" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FESAI" kindref="compound">FESAI</ref>(<ref refid="classtangagroomer_1_1checks__fishing__event_1_1FE" kindref="compound">FE</ref>):</highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>brief<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;Statistical<sp/>area<sp/>imputation&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desc<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="148"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(Starr<sp/>D.2.2):<sp/>&quot;Search<sp/>for<sp/>missing<sp/>statistical<sp/>area<sp/>fields.<sp/>a)<sp/>drop<sp/>the<sp/>entire<sp/>trip<sp/>if<sp/>all<sp/>statistical<sp/>areas<sp/>are<sp/>missing<sp/>in<sp/>the<sp/>trip;</highlight></codeline>
<codeline lineno="149"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>b)<sp/>substitute<sp/>the<sp/>&apos;predominant&apos;<sp/>(most<sp/>frequent)<sp/>statistical<sp/>area<sp/>for<sp/>the<sp/>trip<sp/>for<sp/>trips<sp/>which<sp/>report<sp/>the<sp/>statistical<sp/>area<sp/>fished<sp/>in<sp/>other<sp/>records.</highlight></codeline>
<codeline lineno="150"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>column<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;start_stats_area_code&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FESAI_1a3b67f2ddde677b4da41a5e7a2554b6cb" kindref="member">do</ref>(self):</highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>trip<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.db.Values(</highlight><highlight class="stringliteral">&apos;&apos;&apos;SELECT<sp/>DISTINCT<sp/>trip<sp/>FROM<sp/>fishing_event<sp/>WHERE<sp/>start_stats_area_code<sp/>IS<sp/>NULL<sp/>AND<sp/>trip<sp/>IS<sp/>NOT<sp/>NULL&apos;&apos;&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>=<sp/>self.db.Value(</highlight><highlight class="stringliteral">&apos;&apos;&apos;SELECT<sp/>start_stats_area_code<sp/>FROM<sp/>fishing_event<sp/>WHERE<sp/>start_stats_area_code<sp/>IS<sp/>NOT<sp/>NULL<sp/>AND<sp/>trip=?<sp/>GROUP<sp/>BY<sp/>start_stats_area_code<sp/>ORDER<sp/>BY<sp/>count(*)<sp/>DESC<sp/>LIMIT<sp/>1&apos;&apos;&apos;</highlight><highlight class="normal">,[trip])</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>value:<sp/>self.<ref refid="classtangagroomer_1_1check_1_1Check_1a58991e0dd0e97e9578396e9048e89842" kindref="member">change</ref>(clause=</highlight><highlight class="stringliteral">&apos;&apos;&apos;start_stats_area_code<sp/>IS<sp/>NULL<sp/>AND<sp/>trip=%s&apos;&apos;&apos;</highlight><highlight class="normal">%trip,value=value)</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="158" refid="classtangagroomer_1_1checks__fishing__event_1_1FESAM" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FESAM" kindref="compound">FESAM</ref>(<ref refid="classtangagroomer_1_1checks__fishing__event_1_1FE" kindref="compound">FE</ref>):</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>brief<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;Statistical<sp/>area<sp/>missing&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>column<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;start_stats_area_code&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>clause<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;trip<sp/>IN<sp/>(SELECT<sp/>DISTINCT<sp/>trip<sp/>FROM<sp/>fishing_event<sp/>WHERE<sp/>start_stats_area_code<sp/>IS<sp/>NULL<sp/>AND<sp/>trip<sp/>IS<sp/>NOT<sp/>NULL)&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="163" refid="classtangagroomer_1_1checks__fishing__event_1_1FELLI" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FELLI" kindref="compound">FELLI</ref>(<ref refid="classtangagroomer_1_1checks__fishing__event_1_1FE" kindref="compound">FE</ref>):</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>brief<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;Position<sp/>(lat/lon)<sp/>imputation&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desc<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>column<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;lat/lon&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FELLI_1afefdb86f53041387e95dc7e2a9e00327" kindref="member">do</ref>(self):</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Alter(</highlight><highlight class="stringliteral">&apos;&apos;&apos;ALTER<sp/>TABLE<sp/>fishing_event<sp/>ADD<sp/>COLUMN<sp/>lat<sp/>REAL;&apos;&apos;&apos;</highlight><highlight class="normal">)<sp/></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Alter(</highlight><highlight class="stringliteral">&apos;&apos;&apos;ALTER<sp/>TABLE<sp/>fishing_event<sp/>ADD<sp/>COLUMN<sp/>lon<sp/>REAL;&apos;&apos;&apos;</highlight><highlight class="normal">)<sp/><sp/></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##Set<sp/>lat<sp/>and<sp/>lon<sp/>to<sp/>NULL<sp/>where<sp/>999.9</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>field<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>(</highlight><highlight class="stringliteral">&apos;start_latitude&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;start_longitude&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;end_latitude&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;end_longitude&apos;</highlight><highlight class="normal">):<sp/>self.db.Execute(</highlight><highlight class="stringliteral">&apos;&apos;&apos;UPDATE<sp/>fishing_event<sp/>SET<sp/>%s==NULL<sp/>WHERE<sp/>%s=999.9&apos;&apos;&apos;</highlight><highlight class="normal">%(field,field))</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Alter(</highlight><highlight class="stringliteral">&apos;&apos;&apos;UPDATE<sp/>fishing_event<sp/>SET<sp/>lat=start_latitude,<sp/>lon=start_longitude;&apos;&apos;&apos;</highlight><highlight class="normal">)<sp/><sp/></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Alter(</highlight><highlight class="stringliteral">&apos;&apos;&apos;UPDATE<sp/>fishing_event<sp/>SET<sp/>lat=end_latitude<sp/>WHERE<sp/>lat<sp/>IS<sp/>NULL;&apos;&apos;&apos;</highlight><highlight class="normal">)<sp/></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Alter(</highlight><highlight class="stringliteral">&apos;&apos;&apos;UPDATE<sp/>fishing_event<sp/>SET<sp/>lon=end_longitude<sp/>WHERE<sp/>lon<sp/>IS<sp/>NULL;&apos;&apos;&apos;</highlight><highlight class="normal">)<sp/></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="178" refid="classtangagroomer_1_1checks__fishing__event_1_1FELLS" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FELLS" kindref="compound">FELLS</ref>(<ref refid="classtangagroomer_1_1checks__fishing__event_1_1FE" kindref="compound">FE</ref>):</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>brief<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;Position<sp/>(lat/lon)<sp/>outside<sp/>of<sp/>statistical<sp/>area&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desc<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="181"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Where<sp/>the<sp/>lat/lon<sp/>position<sp/>is<sp/>outside<sp/>of<sp/>the<sp/>bounding<sp/>box<sp/>of<sp/>the<sp/>statistical<sp/>area<sp/>then<sp/>set<sp/>lat/lon<sp/>to<sp/>NULL</highlight></codeline>
<codeline lineno="182"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>column<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;lat/lon&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FELLS_1a3e972835a1f7477d8c86f41abf9fcd90" kindref="member">do</ref>(self):</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##Load<sp/>in<sp/>bounding<sp/>box<sp/>data</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Execute(</highlight><highlight class="stringliteral">&apos;&apos;&apos;DROP<sp/>TABLE<sp/>IF<sp/>EXISTS<sp/>stats_boxes;&apos;&apos;&apos;</highlight><highlight class="normal">)<sp/><sp/></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Execute(</highlight><highlight class="stringliteral">&apos;&apos;&apos;CREATE<sp/>TABLE<sp/>stats_boxes(stat<sp/>TEXT,latmin<sp/>REAL,latmax<sp/>REAL,lonmin<sp/>REAL,lonmax<sp/>REAL);&apos;&apos;&apos;</highlight><highlight class="normal">)<sp/><sp/></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>stat_boxes<sp/>=<sp/>file(</highlight><highlight class="stringliteral">&quot;/Trophia/Tanga/Data/shared/stats_boxes.txt&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>values<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>[line.split(</highlight><highlight class="stringliteral">&apos;<sp/>&apos;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>line<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>stat_boxes.read().split(</highlight><highlight class="stringliteral">&apos;\n&apos;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(line)&gt;0]:<sp/>self.db.Execute(</highlight><highlight class="stringliteral">&apos;&apos;&apos;INSERT<sp/>INTO<sp/>stats_boxes<sp/>VALUES(?,?,?,?,?);&apos;&apos;&apos;</highlight><highlight class="normal">,values)</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##Change<sp/>lats<sp/>and<sp/>lons.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>stat,latmin,latmax,lonmin,lonmax<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.db.Rows(</highlight><highlight class="stringliteral">&apos;&apos;&apos;SELECT<sp/>*<sp/>FROM<sp/>stats_boxes;&apos;&apos;&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classtangagroomer_1_1check_1_1Check_1a58991e0dd0e97e9578396e9048e89842" kindref="member">change</ref>(column=</highlight><highlight class="stringliteral">&apos;lat&apos;</highlight><highlight class="normal">,clause=</highlight><highlight class="stringliteral">&apos;&apos;&apos;start_stats_area_code==&apos;%s&apos;<sp/>AND<sp/>lat<sp/>NOT<sp/>BETWEEN<sp/>%s-0.1<sp/>AND<sp/>%s+0.1&apos;&apos;&apos;</highlight><highlight class="normal">%(stat,latmin,latmax),value=</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classtangagroomer_1_1check_1_1Check_1a58991e0dd0e97e9578396e9048e89842" kindref="member">change</ref>(column=</highlight><highlight class="stringliteral">&apos;lon&apos;</highlight><highlight class="normal">,clause=</highlight><highlight class="stringliteral">&apos;&apos;&apos;start_stats_area_code==&apos;%s&apos;<sp/>AND<sp/>lon<sp/>NOT<sp/>BETWEEN<sp/>%s-0.1<sp/>AND<sp/>%s+0.1&apos;&apos;&apos;</highlight><highlight class="normal">%(stat,lonmin,lonmax),value=</highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FELLS_1a2e23ee3f2f9caf67bd0f33900fa32192" kindref="member">summarise</ref>(self):</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">pass</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="199" refid="classtangagroomer_1_1checks__fishing__event_1_1FEFMA" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">FEFMA(FE):</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>brief<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;Fisheries<sp/>management<sp/>area<sp/>ambiguous&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desc<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;Starr<sp/>E.1.4<sp/>Mark<sp/>trips<sp/>which<sp/>landed<sp/>to<sp/>more<sp/>than<sp/>one<sp/>**other**<sp/>(not<sp/>in<sp/>fishstocks)<sp/>fishstock<sp/>for<sp/>straddling<sp/>statistical<sp/>areas.Since<sp/>this<sp/>relies<sp/>on<sp/>fishing<sp/>event.start_stats_area_code<sp/>do<sp/>this<sp/>after<sp/>grooming<sp/>on<sp/>that&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FEFMA_1a9c91d791ef14af81f655fae7b68374bb" kindref="member">do</ref>(self):</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##For<sp/>each<sp/>species<sp/>determine<sp/>those<sp/>events<sp/>which<sp/>may<sp/>be<sp/>outside<sp/>the<sp/>area<sp/>of<sp/>interest...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>species,fishstocks_interest<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.dataset.fishstocks.items():<sp/></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##..for<sp/>each<sp/>stat<sp/>that<sp/>belongs<sp/>to<sp/>2<sp/>or<sp/>more<sp/>FMAs<sp/>for<sp/>this<sp/>species...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>stat<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.db.Values(</highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="208"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SELECT<sp/>DISTINCT<sp/>start_stats_area_code<sp/></highlight></codeline>
<codeline lineno="209"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FROM<sp/>fishing_event<sp/></highlight></codeline>
<codeline lineno="210"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WHERE<sp/>start_stats_area_code<sp/>IN<sp/>(SELECT<sp/>stat<sp/>FROM<sp/>qmastats<sp/>WHERE<sp/>species==&apos;%s&apos;<sp/>GROUP<sp/>BY<sp/>stat<sp/>HAVING<sp/>count(*)&gt;=2);&apos;&apos;&apos;</highlight><highlight class="normal">%species):</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##...get<sp/>the<sp/>fishstocks<sp/>that<sp/>could<sp/>be<sp/>landed<sp/>to<sp/>for<sp/>this<sp/>stat,</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fishstocks_stat<sp/>=<sp/>tuple(self.db.Values(</highlight><highlight class="stringliteral">&apos;&apos;&apos;SELECT<sp/>qma<sp/>FROM<sp/>qmastats<sp/>WHERE<sp/>species=&apos;%s&apos;<sp/>AND<sp/>stat=&apos;%s&apos;;&apos;&apos;&apos;</highlight><highlight class="normal">%(species,stat)))</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##...for<sp/>each<sp/>trip<sp/>that<sp/>fished<sp/>in<sp/>this<sp/>stat...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>trip<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.db.Values(</highlight><highlight class="stringliteral">&apos;&apos;&apos;SELECT<sp/>DISTINCT<sp/>trip<sp/>FROM<sp/>fishing_event<sp/>WHERE<sp/>start_stats_area_code=&apos;%s&apos;<sp/>AND<sp/>(lat<sp/>IS<sp/>NULL<sp/>OR<sp/>lon<sp/>IS<sp/>NULL)<sp/>AND<sp/>trip<sp/>IS<sp/>NOT<sp/>NULL&apos;&apos;&apos;</highlight><highlight class="normal">%stat):</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fishstocks_landed<sp/>=<sp/>self.db.Values(</highlight><highlight class="stringliteral">&apos;&apos;&apos;SELECT<sp/>DISTINCT<sp/>fishstock_code<sp/>FROM<sp/>landing<sp/>WHERE<sp/>trip=%s<sp/>AND<sp/>fishstock_code<sp/>IN<sp/>%s;&apos;&apos;&apos;</highlight><highlight class="normal">%(trip,repr(fishstocks_stat)))</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##...see<sp/>if<sp/>there<sp/>were<sp/>landings<sp/>to<sp/>more<sp/>than<sp/>one<sp/>of<sp/>these<sp/>fishstocks</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(fishstocks_landed)&gt;1:<sp/></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.flag(clause=</highlight><highlight class="stringliteral">&apos;&apos;&apos;trip=%s<sp/>AND<sp/>start_stats_area_code=&apos;%s&apos;<sp/>AND<sp/>(lat<sp/>IS<sp/>NULL<sp/>OR<sp/>lon<sp/>IS<sp/>NULL)&apos;&apos;&apos;</highlight><highlight class="normal">%(trip,stat),details=</highlight><highlight class="stringliteral">&apos;,&apos;</highlight><highlight class="normal">.join(fishstocks_landed))</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FEFMA_1a0850d49528470dcd4cf180de55d37f66" kindref="member">summarise</ref>(self):</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>div<sp/>=<sp/>Div()</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>div<sp/>+=<sp/><ref refid="namespacetangagroomer_1_1html_1affb03ef21b66ff4bb21fe7ad6cf6278d" kindref="member">FARTable</ref>(</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;Numbers<sp/>of<sp/>fishing<sp/>events<sp/>that<sp/>fished<sp/>in<sp/>straddling<sp/>statistical<sp/>areas<sp/>and<sp/>that<sp/>landed<sp/>to<sp/>more<sp/>than<sp/>one<sp/>Fishstock<sp/>that<sp/>occurs<sp/>in<sp/>that<sp/>statistical<sp/>area.&apos;&apos;&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;Statistical<sp/>area&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Fishing<sp/>events<sp/>flagged&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Fishing<sp/>events<sp/>flagged<sp/>(%)&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Rows(</highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="227"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SELECT<sp/>start_stats_area_code,<sp/>flagged,<sp/>flagged/(total*1.0)*100<sp/>AS<sp/>percent<sp/>FROM<sp/>(</highlight></codeline>
<codeline lineno="228"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SELECT<sp/>start_stats_area_code,<sp/>count(*)<sp/>AS<sp/>flagged<sp/>FROM<sp/>fishing_event<sp/>WHERE<sp/>flags<sp/>LIKE<sp/>&apos;%%%s%%&apos;<sp/>GROUP<sp/>BY<sp/>start_stats_area_code</highlight></codeline>
<codeline lineno="229"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)<sp/>INNER<sp/>JOIN<sp/>(</highlight></codeline>
<codeline lineno="230"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SELECT<sp/>start_stats_area_code,<sp/>count(*)<sp/>AS<sp/>total<sp/>FROM<sp/>fishing_event<sp/>GROUP<sp/>BY<sp/>start_stats_area_code</highlight></codeline>
<codeline lineno="231"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)<sp/>USING<sp/>(start_stats_area_code)<sp/></highlight></codeline>
<codeline lineno="232"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GROUP<sp/>BY<sp/>start_stats_area_code</highlight></codeline>
<codeline lineno="233"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>HAVING<sp/>start_stats_area_code<sp/>in<sp/>(%s);<sp/>&apos;&apos;&apos;</highlight><highlight class="normal">%(self.code(),</highlight><highlight class="stringliteral">&apos;,&apos;</highlight><highlight class="normal">.join([repr(stat)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>stat<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.dataset.statareas])))</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>div<sp/>+=<sp/><ref refid="namespacetangagroomer_1_1html_1affb03ef21b66ff4bb21fe7ad6cf6278d" kindref="member">FARTable</ref>(</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;Numbers<sp/>of<sp/>fishing<sp/>events<sp/>that<sp/>fished<sp/>in<sp/>straddling<sp/>statistical<sp/>areas<sp/>and<sp/>that<sp/>landed<sp/>to<sp/>more<sp/>than<sp/>one<sp/>Fishstock<sp/>that<sp/>occurs<sp/>in<sp/>that<sp/>statistical<sp/>area.&apos;&apos;&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;Statistical<sp/>area&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Fishstocks<sp/>in<sp/>landings&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Fishing<sp/>events&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Rows(</highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="239"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SELECT<sp/>start_stats_area_code,<sp/>details,count(*)<sp/></highlight></codeline>
<codeline lineno="240"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FROM<sp/>checks<sp/>LEFT<sp/>JOIN<sp/>fishing_event<sp/>USING<sp/>(id)<sp/></highlight></codeline>
<codeline lineno="241"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WHERE<sp/>code==&apos;%s&apos;<sp/>AND<sp/>start_stats_area_code<sp/>IN<sp/>(%s)</highlight></codeline>
<codeline lineno="242"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GROUP<sp/>BY<sp/>start_stats_area_code,details&apos;&apos;&apos;</highlight><highlight class="normal">%(self.code(),</highlight><highlight class="stringliteral">&apos;,&apos;</highlight><highlight class="normal">.join([repr(stat)<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>stat<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.dataset.statareas])))</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>div</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="246" refid="classtangagroomer_1_1checks__fishing__event_1_1FEETN" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FEETN" kindref="compound">FEETN</ref>(<ref refid="classtangagroomer_1_1checks__fishing__event_1_1FE" kindref="compound">FE</ref>):</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>brief<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;Consistency<sp/>between<sp/>effort<sp/>number<sp/>fields&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desc<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="249"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>For<sp/>the<sp/>methods<sp/>RLP,<sp/>CP,<sp/>EP,<sp/>FP<sp/>and<sp/>FN,<sp/>the<sp/>field<sp/>&lt;i&gt;effort_total_num&lt;/i&gt;<sp/>is<sp/>used<sp/>for<sp/>the<sp/>&quot;Number<sp/>of<sp/>pot/trap<sp/>lifts<sp/>in<sp/>the<sp/>day&quot;<sp/>and<sp/>&lt;i&gt;effort_num&lt;/i&gt;<sp/>is<sp/>used<sp/>for</highlight></codeline>
<codeline lineno="250"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the<sp/>&quot;Number<sp/>of<sp/>pots/traps<sp/>in<sp/>the<sp/>water<sp/>at<sp/>midgnight&quot;.<sp/>For<sp/>the<sp/>CP<sp/>method,<sp/>these<sp/>fields<sp/>are<sp/>checked<sp/>for<sp/>consistency.<sp/>Records<sp/>are<sp/>flagged<sp/>where<sp/>the<sp/>number<sp/>of<sp/>pots<sp/>lifted<sp/>was<sp/>more<sp/>than<sp/>9<sp/>times<sp/>the<sp/></highlight></codeline>
<codeline lineno="251"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>number<sp/>left<sp/>overnight<sp/>and<sp/>the<sp/>number<sp/>of<sp/>pots<sp/>lifted<sp/>was<sp/>more<sp/>than<sp/>100.<sp/>Where<sp/>&lt;i&gt;effort_total_num&lt;/i&gt;<sp/>is<sp/>missing<sp/>and<sp/><sp/>&lt;i&gt;effort_num&lt;/i&gt;<sp/>is<sp/>greater<sp/>than<sp/>zero<sp/>&lt;i&gt;effort_total_num&lt;/i&gt;<sp/>is<sp/>replaced<sp/>with<sp/>&lt;i&gt;effort_num&lt;/i&gt;.</highlight></codeline>
<codeline lineno="252"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>column<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;effort_total_num&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FEETN_1abfa1d94b5b176719a9ac2d94cbd0425a" kindref="member">do</ref>(self):</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classtangagroomer_1_1check_1_1Check_1a815714fcb0ead30679fca7e82ede9294" kindref="member">flag</ref>(clause<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;primary_method==&apos;CP&apos;<sp/>AND<sp/>effort_total_num&gt;effort_num*9<sp/>AND<sp/>effort_total_num&gt;100<sp/>AND<sp/>effort_num&gt;10&apos;&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classtangagroomer_1_1check_1_1Check_1a58991e0dd0e97e9578396e9048e89842" kindref="member">change</ref>(clause<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;primary_method==&apos;CP&apos;<sp/>AND<sp/>effort_total_num<sp/>IS<sp/>NULL<sp/>AND<sp/>effort_num&gt;0&apos;&apos;&apos;</highlight><highlight class="normal">,expr=</highlight><highlight class="stringliteral">&apos;&apos;&apos;effort_num&apos;&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FEETN_1a94cd3b9255ca27951c906a2886b73ddf" kindref="member">summarise</ref>(self):</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>div<sp/>=<sp/><ref refid="classtangagroomer_1_1html_1_1Div" kindref="compound">Div</ref>()</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>div<sp/>+=<sp/><ref refid="classtangagroomer_1_1html_1_1P" kindref="compound">P</ref>(</highlight><highlight class="stringliteral">&apos;&apos;&apos;The<sp/>following<sp/>figures<sp/>provide<sp/>summaries<sp/>of<sp/>the<sp/>relationship<sp/>between<sp/>the<sp/>total<sp/>potlifts<sp/>and<sp/>the<sp/>number<sp/>of<sp/>pots<sp/>in<sp/>the<sp/>water<sp/>at<sp/>midnight<sp/>for<sp/></highlight></codeline>
<codeline lineno="262"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>cod<sp/>potting<sp/>(CP).&apos;&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>div<sp/>+=<sp/><ref refid="namespacetangagroomer_1_1html_1affb03ef21b66ff4bb21fe7ad6cf6278d" kindref="member">FARTable</ref>(</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;The<sp/>number<sp/>of<sp/>fishing<sp/>events<sp/>flagged<sp/>according<sp/>by<sp/>effort_total_num<sp/>(using<sp/>bins<sp/>of<sp/>width<sp/>10)&apos;&apos;&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;effort_total_num&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Fishing<sp/>events<sp/>flagged&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Rows(</highlight><highlight class="stringliteral">&apos;&apos;&apos;SELECT<sp/>CAST(effort_total_num/10<sp/>AS<sp/>INTEGER)*10<sp/>AS<sp/>effort_total_num,<sp/>count(*)<sp/>AS<sp/>flagged<sp/>FROM<sp/>fishing_event<sp/>WHERE<sp/>flags<sp/>LIKE<sp/>&apos;%%%s%%&apos;<sp/>GROUP<sp/>BY<sp/>CAST(effort_total_num/10<sp/>AS<sp/>INTEGER)*10;<sp/>&apos;&apos;&apos;</highlight><highlight class="normal">%self.<ref refid="classtangagroomer_1_1check_1_1Check_1aee237860ccf5830b720da9e19b641cda" kindref="member">code</ref>())</highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>method<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>(</highlight><highlight class="stringliteral">&apos;CP&apos;</highlight><highlight class="normal">,):</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>div<sp/>+=<sp/>self.<ref refid="classtangagroomer_1_1check_1_1Check_1a9398218abb4e0bbfcb5813da99b707d7" kindref="member">histogram</ref>(</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;fishing_event&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;effort_total_num/effort_num&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xlab=</highlight><highlight class="stringliteral">&apos;effort_total_num/effort_num&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ylab=</highlight><highlight class="stringliteral">&apos;Events&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>where=</highlight><highlight class="stringliteral">&quot;primary_method==&apos;%s&apos;&quot;</highlight><highlight class="normal">%method,</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>caption<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;Histogram<sp/>of<sp/>the<sp/>ratio<sp/>of<sp/>total<sp/>potlifts<sp/>(effort_total_num<sp/>)<sp/>over<sp/>pots<sp/>in<sp/>the<sp/>water<sp/>at<sp/>midnight<sp/>(effort_num)<sp/>for<sp/>method<sp/>%s.&apos;&apos;&apos;</highlight><highlight class="normal">%method</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>div<sp/>+=<sp/>self.<ref refid="classtangagroomer_1_1check_1_1Check_1a3b5976b1ad785be57e0c5a1a1ded9060" kindref="member">scatterplot</ref>(</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;fishing_event&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;effort_num&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;effort_total_num&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transform=</highlight><highlight class="stringliteral">&apos;log10&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>xlab=</highlight><highlight class="stringliteral">&apos;effort_num&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ylab=</highlight><highlight class="stringliteral">&apos;effort_total_num&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>where=</highlight><highlight class="stringliteral">&quot;primary_method==&apos;%s&apos;&quot;</highlight><highlight class="normal">%method,</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lines=[(0,1),(0,9)],</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>caption<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;Relationship<sp/>between<sp/>total<sp/>potlifts<sp/>(effort_total_num)<sp/>and<sp/>pots<sp/>in<sp/>the<sp/>water<sp/>at<sp/>midnight<sp/>(effort_num)<sp/>for<sp/>method<sp/>%s.&apos;&apos;&apos;</highlight><highlight class="normal">%method</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>div</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="287" refid="classtangagroomer_1_1checks__fishing__event_1_1FEEFO" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FEEFO" kindref="compound">FEEFO</ref>(<ref refid="classtangagroomer_1_1checks__fishing__event_1_1FE" kindref="compound">FE</ref>):</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>brief<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;Outliers<sp/>for<sp/>effort<sp/>fields&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>desc<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="290"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(Starr<sp/>D.2.4):<sp/>&quot;Operate<sp/>grooming<sp/>procedure<sp/>on<sp/>effort<sp/>fields<sp/>by<sp/>method<sp/>of<sp/>capture<sp/>and<sp/>form<sp/>type<sp/>to<sp/>truncate<sp/>outlier<sp/>values.&quot;</highlight></codeline>
<codeline lineno="291"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>column<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;various&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##The<sp/>minimum<sp/>number<sp/>of<sp/>events<sp/>that<sp/>a<sp/>primary_method/form_type<sp/>must<sp/>have<sp/>to<sp/>be<sp/>considered</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>events<sp/>=<sp/>10000</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##The<sp/>percentage<sp/>of<sp/>events<sp/>where<sp/>the<sp/>field<sp/>is<sp/>not<sp/>null<sp/>that<sp/>a<sp/>primary_method/form_type<sp/>must<sp/>have<sp/>to<sp/>be<sp/>considered</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>notnulls<sp/>=<sp/>80</highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FEEFO_1ac90088e580b75ffdc8fcad545bf55590" kindref="member">do</ref>(self):</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Script(</highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="300"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>DROP<sp/>TABLE<sp/>IF<sp/>EXISTS<sp/>check_FEEFO;</highlight></codeline>
<codeline lineno="301"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CREATE<sp/>TABLE<sp/>check_FEEFO<sp/>(</highlight></codeline>
<codeline lineno="302"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>field<sp/>TEXT,</highlight></codeline>
<codeline lineno="303"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>form_type<sp/>TEXT,</highlight></codeline>
<codeline lineno="304"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>primary_method<sp/>TEXT,</highlight></codeline>
<codeline lineno="305"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>count<sp/>INTEGER,</highlight></codeline>
<codeline lineno="306"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>percent<sp/>REAL,</highlight></codeline>
<codeline lineno="307"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>min<sp/>REAL,</highlight></codeline>
<codeline lineno="308"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p10<sp/>REAL,</highlight></codeline>
<codeline lineno="309"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>median<sp/>REAL<sp/>,</highlight></codeline>
<codeline lineno="310"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>p90<sp/>REAL,</highlight></codeline>
<codeline lineno="311"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>max<sp/>REAL,</highlight></codeline>
<codeline lineno="312"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>floor<sp/>REAL,</highlight></codeline>
<codeline lineno="313"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ceil<sp/>REAL,</highlight></codeline>
<codeline lineno="314"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>multiplier<sp/>REAL,</highlight></codeline>
<codeline lineno="315"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lower<sp/>REAL,</highlight></codeline>
<codeline lineno="316"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>upper<sp/>REAL,</highlight></codeline>
<codeline lineno="317"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>substitutions<sp/>REAL);&apos;&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">print</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>field<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>[</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;effort_num&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;effort_total_num&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;fishing_duration&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;total_hook_num&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;total_net_length&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>]:</highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##&quot;1.<sp/>For<sp/>a<sp/>given<sp/>effort<sp/>field,<sp/>select<sp/>a<sp/>partial<sp/>dataset<sp/>from<sp/>the<sp/>fishing<sp/>event<sp/>data<sp/>based<sp/>on<sp/>a<sp/>method<sp/>of<sp/>capture<sp/>and<sp/>a<sp/>form<sp/>type<sp/>(CELR<sp/>or<sp/>TCEPR)&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##For<sp/>each<sp/>form_type<sp/>&amp;<sp/>primary<sp/>method<sp/>combination<sp/>which<sp/>has<sp/>at<sp/>least<sp/>1000<sp/>not<sp/>NULL<sp/>records<sp/>and<sp/>&gt;=80%<sp/>of<sp/>records<sp/>not<sp/>NULL</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>form_type,primary_method,count<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.db.Rows(</highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="330"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SELECT<sp/>form_type,primary_method,count(*)<sp/></highlight></codeline>
<codeline lineno="331"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FROM<sp/>fishing_event<sp/></highlight></codeline>
<codeline lineno="332"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WHERE<sp/>form_type<sp/>IS<sp/>NOT<sp/>NULL<sp/>AND<sp/>primary_method<sp/>IS<sp/>NOT<sp/>NULL<sp/>AND<sp/>%s<sp/>IS<sp/>NOT<sp/>NULL<sp/></highlight></codeline>
<codeline lineno="333"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GROUP<sp/>BY<sp/>form_type,primary_method</highlight></codeline>
<codeline lineno="334"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ORDER<sp/>BY<sp/>count(*)<sp/>DESC</highlight></codeline>
<codeline lineno="335"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal">%(field)):</highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>total<sp/>=<sp/>self.db.Value(</highlight><highlight class="stringliteral">&apos;&apos;&apos;SELECT<sp/>count(*)<sp/>FROM<sp/>fishing_event<sp/>WHERE<sp/>primary_method=?<sp/>AND<sp/>form_type=?&apos;&apos;&apos;</highlight><highlight class="normal">,(primary_method,form_type))</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>percent<sp/>=<sp/>float(count)/total*100<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>total&gt;0<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>0</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">print</highlight><highlight class="normal"><sp/>field,form_type,primary_method,count,</highlight><highlight class="stringliteral">&apos;%s%%&apos;</highlight><highlight class="normal">%round(percent,1),;<sp/>sys.stdout.flush()</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>count&gt;=self.<ref refid="classtangagroomer_1_1checks__fishing__event_1_1FEEFO_1af86e60824600d7c14865a8e634f23533" kindref="member">events</ref><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>percent&gt;=self.<ref refid="classtangagroomer_1_1checks__fishing__event_1_1FEEFO_1a422dd26b104b00d7cb95a8b0d4395752" kindref="member">notnulls</ref>:</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##&quot;2.<sp/>Calculate<sp/>the<sp/>10th,<sp/>50th<sp/>and<sp/>90th<sp/>percentiles<sp/>for<sp/>this<sp/>effort<sp/>field<sp/>within<sp/>this<sp/>dataset.<sp/>Multiply<sp/>the<sp/>10th<sp/>and<sp/>90th</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##percentiles<sp/>by<sp/>trial<sp/>multipliers<sp/>(often<sp/>1/2X<sp/>and<sp/>2X;<sp/>Table<sp/>5)<sp/>respectively<sp/>to<sp/>get<sp/>the<sp/>lower<sp/>and<sp/>upper<sp/>bounds</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##which<sp/>define<sp/>the<sp/>outliers.&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>values<sp/>=<sp/>self.db.Values(</highlight><highlight class="stringliteral">&apos;&apos;&apos;SELECT<sp/>%s<sp/>FROM<sp/>fishing_event<sp/>WHERE<sp/>primary_method=?<sp/>AND<sp/>form_type=?<sp/>AND<sp/>%s<sp/>IS<sp/>NOT<sp/>NULL&apos;&apos;&apos;</highlight><highlight class="normal">%(field,field),(primary_method,form_type))</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>values.sort()</highlight></codeline>
<codeline lineno="347"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>n<sp/>=<sp/>len(values)</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mi,p10,fleet_median,p90,ma<sp/>=<sp/>values[0],values[int(n*0.1)-1],values[int(n*0.5)-1],values[int(n*0.9)-1],values[-1]</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##&quot;3.<sp/>If<sp/>a<sp/>&apos;floor&apos;<sp/>value<sp/>is<sp/>required,<sp/>then<sp/>substitute<sp/>the<sp/>&apos;floor&apos;<sp/>value<sp/>for<sp/>the<sp/>calculated<sp/>lower<sp/>bound<sp/>(e.g.,<sp/>there<sp/>is<sp/>no</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##<sp/>point<sp/>in<sp/>having<sp/>a<sp/>lower<sp/>bound<sp/>that<sp/>is<sp/>smaller<sp/>than<sp/>1<sp/>tow<sp/>for<sp/>a<sp/>trawl<sp/>method.<sp/>See<sp/>Table<sp/>5<sp/>for<sp/>floor<sp/>values<sp/>used</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##<sp/>in<sp/>some<sp/>analyses).&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>floor<sp/>=<sp/>0.0</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ceil<sp/>=<sp/>1e9</highlight></codeline>
<codeline lineno="355"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>field==</highlight><highlight class="stringliteral">&apos;effort_num&apos;</highlight><highlight class="normal">:<sp/></highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>floor<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>field==</highlight><highlight class="stringliteral">&apos;fishing_duration&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>floor<sp/>=<sp/>round(5/60.0,3)<sp/></highlight><highlight class="comment">##5<sp/>minutes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ceil=<sp/>24.0</highlight></codeline>
<codeline lineno="360"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>primary_method==</highlight><highlight class="stringliteral">&apos;MW&apos;</highlight><highlight class="normal">:<sp/></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>floor<sp/>=<sp/>round(5/60.0,3)<sp/></highlight><highlight class="comment">##5<sp/>minutes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>primary_method==</highlight><highlight class="stringliteral">&apos;BT&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>floor<sp/>=<sp/>round(10/60.0,3)<sp/></highlight><highlight class="comment">##<sp/>10<sp/>minutes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>primary_method==</highlight><highlight class="stringliteral">&apos;SN&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>floor<sp/>=<sp/>2.0<sp/></highlight><highlight class="comment">##<sp/>2<sp/>hours</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ceil<sp/>=<sp/>24.0<sp/>*<sp/>5<sp/></highlight><highlight class="comment">##<sp/>5<sp/>days</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">print</highlight><highlight class="normal"><sp/>p10,fleet_median,p90,floor,ceil,;<sp/>sys.stdout.flush()</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>multiplier<sp/>=<sp/>2.0</highlight></codeline>
<codeline lineno="370"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>substitution_thresh<sp/>=<sp/>1</highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">print</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;&gt;&apos;</highlight><highlight class="normal">,;<sp/>sys.stdout.flush()</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>lower,upper<sp/>=<sp/>p10/multiplier,p90*multiplier</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>lower&lt;floor:<sp/>lower<sp/>=<sp/>floor</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>upper&gt;ceil:<sp/>upper<sp/>=<sp/>ceil</highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##&quot;6.<sp/>Compare<sp/>the<sp/>effort<sp/>value<sp/>in<sp/>every<sp/>record<sp/>with<sp/>the<sp/>trial<sp/>bounds<sp/>determined<sp/>in<sp/>Step<sp/>1.<sp/>Substitute<sp/>the<sp/>vessel</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##median<sp/>if<sp/>the<sp/>effort<sp/>value<sp/>lies<sp/>outside<sp/>of<sp/>the<sp/>bounds.&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##At<sp/>this<sp/>stage<sp/>I<sp/>just<sp/>count<sp/>the<sp/>number<sp/>of<sp/>substitutions<sp/>that<sp/>would<sp/>be<sp/>made<sp/>given<sp/>lower<sp/>and<sp/>upper</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##Actual<sp/>substitutions<sp/>are<sp/>not<sp/>done<sp/>until<sp/>the<sp/>right<sp/>multiplier<sp/>has<sp/>been<sp/>determined<sp/>based<sp/>on<sp/>substiution<sp/>proportion</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##This<sp/>avoids<sp/>calculating<sp/>vessel<sp/>median<sp/>for<sp/>every<sp/>trial<sp/>value<sp/>of<sp/>multiplier</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>substitutions<sp/>=<sp/>self.db.Value(</highlight><highlight class="stringliteral">&apos;&apos;&apos;SELECT<sp/>count(*)<sp/>FROM<sp/>fishing_event<sp/>WHERE<sp/>primary_method=?<sp/>AND<sp/>form_type=?<sp/>AND<sp/>(%s&lt;?<sp/>OR<sp/>%s&gt;?)&apos;&apos;&apos;</highlight><highlight class="normal">%(field,field),(primary_method,form_type,lower,upper))/float(n)*100</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##&quot;7.<sp/>Repeat<sp/>this<sp/>procedure<sp/>with<sp/>alternative<sp/>bounds<sp/>if<sp/>the<sp/>number<sp/>of<sp/>substitutions<sp/>is<sp/>larger<sp/>than<sp/>1%<sp/>(changed<sp/>from<sp/>5%<sp/>to<sp/>be<sp/>more<sp/>conservative<sp/>in<sp/>changing<sp/>data)<sp/>of<sp/>the<sp/>total</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##number<sp/>of<sp/>records.&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>substitutions&lt;=substitution_thresh:<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(lower==floor<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>upper==ceil)<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>multiplier&gt;=99.99:<sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/>multiplier<sp/>+=<sp/>0.1</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">print</highlight><highlight class="normal"><sp/>multiplier,</highlight><highlight class="stringliteral">&apos;%s%%&apos;</highlight><highlight class="normal">%round(substitutions,3),;<sp/>sys.stdout.flush()</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##&quot;4.<sp/>Calculate<sp/>the<sp/>median<sp/>value<sp/>of<sp/>the<sp/>effort<sp/>field<sp/>for<sp/>every<sp/>vessel<sp/>in<sp/>the<sp/>selected<sp/>dataset.<sp/>Substitute<sp/>the<sp/>median</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##value<sp/>calculated<sp/>in<sp/>Step<sp/>1<sp/>if<sp/>the<sp/>median<sp/>value<sp/>for<sp/>the<sp/>vessel<sp/>lies<sp/>outside<sp/>of<sp/>the<sp/>calculated<sp/>bounds.&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##Find<sp/>vessels<sp/>that<sp/>have<sp/>any<sp/>values<sp/>for<sp/>field<sp/>outside<sp/>of<sp/>bounds</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##Pre-calculate<sp/>vessel<sp/>medians<sp/>(this<sp/>is<sp/>faster<sp/>than<sp/>doing<sp/>it<sp/>separately<sp/>for<sp/>each<sp/>vessel)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vessel_medians<sp/>=<sp/>self.db.Rows(</highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="398"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SELECT<sp/>vessel_key,median(%s)<sp/></highlight></codeline>
<codeline lineno="399"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FROM<sp/>fishing_event<sp/></highlight></codeline>
<codeline lineno="400"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WHERE<sp/>vessel_key<sp/>IN<sp/>(</highlight></codeline>
<codeline lineno="401"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SELECT<sp/>DISTINCT<sp/>vessel_key<sp/></highlight></codeline>
<codeline lineno="402"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FROM<sp/>fishing_event<sp/></highlight></codeline>
<codeline lineno="403"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WHERE<sp/>vessel_key<sp/>IS<sp/>NOT<sp/>NULL<sp/>AND<sp/>primary_method=?<sp/>AND<sp/>form_type=?<sp/>AND<sp/>(%s<sp/>IS<sp/>NULL<sp/>OR<sp/>(%s&lt;?<sp/>OR<sp/>%s&gt;?))</highlight></codeline>
<codeline lineno="404"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)<sp/>AND<sp/>primary_method=?<sp/>AND<sp/>form_type=?<sp/>AND<sp/>%s<sp/>IS<sp/>NOT<sp/>NULL</highlight></codeline>
<codeline lineno="405"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GROUP<sp/>BY<sp/>vessel_key&apos;&apos;&apos;</highlight><highlight class="normal">%(field,field,field,field,field),(primary_method,form_type,lower,upper,primary_method,form_type))</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>vessel_medians<sp/>=<sp/>dict(vessel_medians)</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##&quot;5.<sp/>Create<sp/>a<sp/>temporary<sp/>field<sp/>on<sp/>every<sp/>record<sp/>in<sp/>the<sp/>partial<sp/>dataset<sp/>which<sp/>contains<sp/>the<sp/>median<sp/>value<sp/>of<sp/>the<sp/>target</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##effort<sp/>field<sp/>for<sp/>the<sp/>vessel<sp/>appropriate<sp/>to<sp/>the<sp/>record.<sp/>This<sp/>field<sp/>will<sp/>contain<sp/>the<sp/>fleet<sp/>median<sp/>for<sp/>vessels<sp/>which</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##were<sp/>outside<sp/>of<sp/>the<sp/>bounds<sp/>as<sp/>defined<sp/>in<sp/>Step<sp/>3.&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>vessel,vessel_median<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>vessel_medians.items():</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##Calculate<sp/>vessel<sp/>median</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>median_type<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;VM&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>=<sp/>vessel_median</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##Replace<sp/>value<sp/>with<sp/>fleet_median<sp/>if<sp/>outside<sp/>of<sp/>bounds<sp/>or<sp/>never<sp/>recorded<sp/>any<sp/>effort<sp/>of<sp/>this<sp/>method</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>value<sp/></highlight><highlight class="keywordflow">is</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>value&lt;lower<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>value&gt;upper:</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>median_type<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;FM&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>=<sp/>fleet_median</highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##Do<sp/>replacement<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classtangagroomer_1_1check_1_1Check_1a58991e0dd0e97e9578396e9048e89842" kindref="member">change</ref>(</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>column<sp/>=<sp/>field,</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>clause<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;vessel_key=%s<sp/>AND<sp/>primary_method=&apos;%s&apos;<sp/>AND<sp/>form_type=&apos;%s&apos;<sp/>AND<sp/>(%s<sp/>IS<sp/>NULL<sp/>OR<sp/>(%s&lt;%s<sp/>OR<sp/>%s&gt;%s))&apos;&apos;&apos;</highlight><highlight class="normal">%(vessel,primary_method,form_type,field,field,lower,field,upper),</highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>value<sp/>=<sp/>value,</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>details<sp/>=<sp/>median_type</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##Record</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Execute(</highlight><highlight class="stringliteral">&apos;&apos;&apos;INSERT<sp/>INTO<sp/>check_FEEFO<sp/>VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?);&apos;&apos;&apos;</highlight><highlight class="normal">,[field,form_type,primary_method,count,percent,mi,p10,fleet_median,p90,ma,floor,ceil,multiplier,lower,upper,substitutions])</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Execute(</highlight><highlight class="stringliteral">&apos;&apos;&apos;INSERT<sp/>INTO<sp/>check_FEEFO(field,form_type,primary_method,count,percent)<sp/>VALUES(?,?,?,?,?);&apos;&apos;&apos;</highlight><highlight class="normal">,[field,form_type,primary_method,count,percent])</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">print</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sys.stdout.flush()</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classtangagroomer_1_1checks__fishing__event_1_1FEEFO_1aa50d3b9dd9b0abd6ff8e9ad67a356de2" kindref="member">summarise</ref>(self):</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>div<sp/>=<sp/><ref refid="classtangagroomer_1_1html_1_1Div" kindref="compound">Div</ref>()</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>div<sp/>+=<sp/><ref refid="classtangagroomer_1_1html_1_1P" kindref="compound">P</ref>(</highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="437"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>For<sp/>each<sp/>form<sp/>type,<sp/>checks<sp/>were<sp/>done<sp/>on<sp/>the<sp/>most<sp/>important<sp/>effort<sp/>fields.<sp/>Checks<sp/>were<sp/>only<sp/>done<sp/>on<sp/>a<sp/>form<sp/>type/field<sp/>combination<sp/>is<sp/>there<sp/>were<sp/>at<sp/>least<sp/>%s<sp/>records<sp/></highlight></codeline>
<codeline lineno="438"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>and<sp/>that<sp/>the<sp/>number<sp/>of<sp/>NULL<sp/>values<sp/>for<sp/>that<sp/>field<sp/>for<sp/>that<sp/>form<sp/>type<sp/>were<sp/>less<sp/>than<sp/>%s%%<sp/>of<sp/>all<sp/>records.<sp/>These<sp/>criteria<sp/>avoid<sp/>running<sp/>checks<sp/>on<sp/>data<sp/>that<sp/>form<sp/>a<sp/>small<sp/>part<sp/>of<sp/>the<sp/>dataset</highlight></codeline>
<codeline lineno="439"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>or<sp/>which<sp/>are<sp/>recorded<sp/>on<sp/>an<sp/>optional<sp/>basis.<sp/>The<sp/>following<sp/>table<sp/>lists<sp/>the<sp/>form<sp/>type/effort<sp/>field<sp/>combinations<sp/>for<sp/>which<sp/>this<sp/>check<sp/>was<sp/>done.</highlight></codeline>
<codeline lineno="440"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal">%(self.<ref refid="classtangagroomer_1_1checks__fishing__event_1_1FEEFO_1af86e60824600d7c14865a8e634f23533" kindref="member">events</ref>,100-self.<ref refid="classtangagroomer_1_1checks__fishing__event_1_1FEEFO_1a422dd26b104b00d7cb95a8b0d4395752" kindref="member">notnulls</ref>))</highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>div<sp/>+=<sp/><ref refid="namespacetangagroomer_1_1html_1affb03ef21b66ff4bb21fe7ad6cf6278d" kindref="member">FARTable</ref>(</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;Results<sp/>from<sp/>the<sp/>the<sp/>FEEFO<sp/>check<sp/>on<sp/>effort<sp/>fields.<sp/>The<sp/>minimum,<sp/>10th<sp/>percentile,<sp/>median,<sp/>90th<sp/>percentile<sp/>and<sp/>maximum<sp/>are<sp/>calculated<sp/>prior<sp/>to<sp/>anges<sp/>changes<sp/>to<sp/>data<sp/>applied<sp/>by<sp/>this<sp/>check.<sp/>The</highlight></codeline>
<codeline lineno="444"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Floor<sp/>and<sp/>cieling<sp/>are<sp/>the<sp/>minimum<sp/>and<sp/>maximum<sp/>values<sp/>that<sp/>are<sp/>applied<sp/>to<sp/>each<sp/>effort<sp/>field.<sp/>The<sp/>multiplier<sp/>is<sp/>the<sp/>final<sp/>multiplier<sp/>used<sp/>to<sp/>convert<sp/>the<sp/>10th<sp/>and<sp/>90th<sp/>percentiles<sp/>into<sp/>the<sp/>lower<sp/>and<sp/>upper<sp/>values</highlight></codeline>
<codeline lineno="445"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>used<sp/>to<sp/>define<sp/>if<sp/>a<sp/>substitution<sp/>is<sp/>done.&apos;&apos;&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(</highlight><highlight class="stringliteral">&apos;Effort<sp/>field&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Form<sp/>type&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Method&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Records<sp/>not<sp/>null&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Records<sp/>not<sp/>null<sp/>(%)&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Minimum&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;10th<sp/>percentile&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Median&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;90th<sp/>percentile&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Maximum&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Floor&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Ceiling&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Multiplier&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Lower&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Upper&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;Substitutions<sp/>(%)&apos;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.db.Rows(</highlight><highlight class="stringliteral">&apos;&apos;&apos;SELECT<sp/>*<sp/>FROM<sp/>check_FEEFO<sp/>WHERE<sp/>substitutions<sp/>IS<sp/>NOT<sp/>NULL;&apos;&apos;&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rows<sp/>=<sp/>self.db.Rows(</highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="450"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SELECT<sp/>primary_method,form_type,column,fishing_year,count(*)<sp/>AS<sp/>count</highlight></codeline>
<codeline lineno="451"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FROM<sp/>checks<sp/>LEFT<sp/>JOIN<sp/>fishing_event<sp/>USING<sp/>(id)</highlight></codeline>
<codeline lineno="452"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WHERE<sp/>code==&apos;FEEFO&apos;<sp/>AND<sp/>primary_method<sp/>IS<sp/>NOT<sp/>NULL<sp/>AND<sp/>form_type<sp/>IS<sp/>NOT<sp/>NULL<sp/>AND<sp/>column<sp/>IS<sp/>NOT<sp/>NULL<sp/>AND<sp/>fishing_year<sp/>IS<sp/>NOT<sp/>NULL</highlight></codeline>
<codeline lineno="453"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GROUP<sp/>BY<sp/>primary_method,form_type,column,fishing_year</highlight></codeline>
<codeline lineno="454"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rows<sp/>=<sp/>robjects.DataFrame({</highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;group&apos;</highlight><highlight class="normal">:<sp/>robjects.FactorVector([</highlight><highlight class="stringliteral">&apos;%s-%s-%s&apos;</highlight><highlight class="normal">%(row[0],row[1],row[2])<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>row<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>rows]),</highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;fishing_year&apos;</highlight><highlight class="normal">:<sp/>robjects.IntVector([row[3]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>row<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>rows]),</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;count&apos;</highlight><highlight class="normal">:<sp/>robjects.IntVector([row[4]<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>row<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>rows])</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>})</highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>plot<sp/>=<sp/>ggplot2.ggplot(rows)<sp/>+<sp/>ggplot2.aes_string(x=</highlight><highlight class="stringliteral">&apos;fishing_year&apos;</highlight><highlight class="normal">,y=</highlight><highlight class="stringliteral">&apos;count&apos;</highlight><highlight class="normal">,colour=</highlight><highlight class="stringliteral">&apos;group&apos;</highlight><highlight class="normal">)<sp/>+<sp/>ggplot2.geom_point()<sp/></highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>plot.plot()</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>method,column,form<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>self.db.Rows(</highlight><highlight class="stringliteral">&apos;&apos;&apos;SELECT<sp/>primary_method,field,form_type<sp/>FROM<sp/>check_FEEFO<sp/>WHERE<sp/>substitutions<sp/>IS<sp/>NOT<sp/>NULL;&apos;&apos;&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rows<sp/>=<sp/>self.db.Rows(</highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="465"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SELECT<sp/>orig,new,count(*)<sp/>AS<sp/>count</highlight></codeline>
<codeline lineno="466"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>FROM<sp/>checks<sp/>LEFT<sp/>JOIN<sp/>fishing_event<sp/>USING<sp/>(id)</highlight></codeline>
<codeline lineno="467"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WHERE<sp/>code==&apos;FEEFO&apos;<sp/>AND<sp/>primary_method==&apos;%s&apos;<sp/>AND<sp/>column==&apos;%s&apos;<sp/>AND<sp/>form_type==&apos;%s&apos;<sp/></highlight></codeline>
<codeline lineno="468"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>GROUP<sp/>BY<sp/>orig,new</highlight></codeline>
<codeline lineno="469"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal">%(method,column,form))</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>len(rows)&gt;0:</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filename<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;summary/FEEFO<sp/>Orig<sp/>New<sp/>%s%s%s.png&apos;</highlight><highlight class="normal">%(method,column,form)</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>R.png(filename,600,400)</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#R.plot([x<sp/>for<sp/>x,y,c<sp/>in<sp/>rows],[y<sp/>for<sp/>x,y,c<sp/>in<sp/>rows],cex=[math.sqrt(c)<sp/>for<sp/>x,y,c<sp/>in<sp/>rows],xlab=&apos;Original<sp/>value&apos;,ylab=&apos;Substituted<sp/>value&apos;,pch=1)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#plot<sp/>=<sp/>ggplot2.ggplot(rows)<sp/>+<sp/>ggplot2.aes_string(x=&apos;fishing_year&apos;,y=&apos;count&apos;,colour=&apos;group&apos;)<sp/>+<sp/>ggplot2.geom_point()<sp/></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#plot.plot()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>R.dev_off()</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>div<sp/>+=<sp/><ref refid="namespacetangagroomer_1_1html_1a78e4ff30a793a97ce6d5ea3ca2c000b6" kindref="member">FARFigure</ref>(filename,</highlight><highlight class="stringliteral">&apos;%s<sp/>%s<sp/>%s&apos;</highlight><highlight class="normal">%(method,column,form))</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filename<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;summary/FEEFO<sp/>Hist<sp/>Old<sp/>%s%s%s.png&apos;</highlight><highlight class="normal">%(method,column,form)</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>R.png(filename,600,400)</highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#R.hist([float(x)<sp/>for<sp/>x,y,c<sp/>in<sp/>rows<sp/>if<sp/>x<sp/>is<sp/>not<sp/>None],xlab=&apos;Original<sp/>value&apos;,main=&apos;&apos;,breaks=30)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>R.dev_off()</highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>div<sp/>+=<sp/><ref refid="namespacetangagroomer_1_1html_1a78e4ff30a793a97ce6d5ea3ca2c000b6" kindref="member">FARFigure</ref>(filename,</highlight><highlight class="stringliteral">&apos;%s<sp/>%s<sp/>%s&apos;</highlight><highlight class="normal">%(method,column,form))</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>div</highlight></codeline>
<codeline lineno="487"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/home/nbentley/Trophia/Code/tangagroomer/checks_fishing_event.py"/>
  </compounddef>
</doxygen>
