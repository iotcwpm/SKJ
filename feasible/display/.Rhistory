library(stencila)
library(stencila)
library(stencila)
library.dynam('stencila','stencila',.libPaths())
library.dynam('stencila','stencila',.libPaths())
require(stencila)
Stencil()
library.dynam('stencila','stencila',.libPaths())
require(stencila)
Stencil()
require(stencila)
Stencil()
require(stencila)
Stencil()
require(stencila)
require(stencila)
require(stencila)
grab('core/stencils/exampleskitchensink')
grab('core/stencils/examples/kitchensink')
Stencil('core/stencils/examples/kitchensink')
Stencil('core/stencils/examples/empty')
s=Stencil('core/stencils/examples/empty')
s$view()
s$serve()
s$source()
setwd("~/trophia/code/ioskj/feasible/display")
source('../../common.R',local=T)
require(stringr)
# Read in files
load('priors','../../parameters/output/')
load(c(
'accepted',
'rejected',
'track'
),from='../output/')
# Bind together
# Add columns to accepted to allow rbinding
accepted$trial <- NA
accepted$time <- NA
accepted$year <- NA
accepted$quarter <- NA
accepted$criterion <- 0
all <- rbind(accepted,rejected)
# Get terminal years for tracks
terminals <- ddply(track,.(replicate),summarise,year=max(year))
terminals <- merge(terminals,rejected[,c('trial','criterion')],by.x='replicate',by.y='trial')
track <- merge(track,terminals,all.x=T)
track$criterion <- factor(track$criterion)
tracks <- read.table('../../model/output/track.tsv',header=T)
tracks <- merge(tracks,ddply(tracks,.(replicate),summarise,b0=head(biomass_spawning_overall,n=1)))
ggplot(subset(tracks,quarter==0),aes(x=year,y=biomass_spawning_overall/b0,group=replicate)) +
geom_line(alpha=0.2) +
labs(x="Year",y="Total spawning biomass (`000 t)")
rejects <- table(rejected$criterion)
rejects
diffinv(rejects)
diffinv(as.vector(rejects))
ggplot(all,aes(x=movement_sw_nw.value,y=recruits_sw.value,colour=factor(criterion))) + geom_point()
ggplot(subset(all,criterion==0),aes(x=movement_sw_nw.value,y=recruits_sw.value,colour=factor(criterion))) + geom_point(size=3,alpha=0.5)
ggplot(subset(all,criterion==0),aes(x=movement_nw_ma.value,y=recruits_ma.value,colour=factor(criterion))) + geom_point(size=3,alpha=0.5)
ggplot(subset(all,criterion==0),aes(x=movement_nw_ea.value,y=recruits_ea.value,colour=factor(criterion))) + geom_point(size=3,alpha=0.5)
ggplot(all,aes(x=recruits_ea.value,y=recruits_sw.value,colour=factor(criterion))) + geom_point()
ggplot(all,aes(x=mortality_base.value,y=spawners_unfished.value,colour=factor(criterion))) + geom_point()
ggplot(subset(all,criterion==0),aes(x=mortality_base.value,y=spawners_unfished.value,colour=factor(criterion))) + geom_point(alpha=0.5)
ggplot(all,aes(x=mortality_base.value,y=spawners_unfished.value,colour=factor(criterion))) + geom_point() + geom_point(alpha=0.5)
ggplot(all,aes(x=mortality_base.value,y=spawners_unfished.value,colour=factor(criterion))) + geom_point(alpha=0.5)
